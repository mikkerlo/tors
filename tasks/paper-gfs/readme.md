# Google File System

Прочтите статью [The Google File System](https://ai.google/research/pubs/pub51)

## Вопросы

* Какие операции, приводящие к изменению _содержимого_ файла поддерживает GFS? Какая операция является более частой?
* GFS хорошо подходит для больших последовательных чтений. Что из себя представляет типичный клиент, который выполняет такие чтения?
* Не становится ли мастер узким местом при обработке всех записей и аппендов в файловой системе? С помощью каких механизмов снижается нагрузка на мастер? 
* Чему равен размер чанка в первоначальном дизайне GFS? А чему равен аналогичный параметр в локальных файловых системах?
* Чем мотивирована эта разница?
* Зачем среди реплик одного чанка выделяется _primary_-реплика?
* Как устроена процедура fail-over-а для _primary_-реплики чанка?
* Как упорядочиваются записи в пределах одного чанка с учетом отказов _primary_-реплик? Что это вам напоминает?
* Почему записи по оффсету (даже маленькие) могут быть неатомарными?
* Может ли такое случиться при аппенде в конец файла? Почему? 
* Есть ли в первоначальном GFS единая точка отказа? Почему? Есть ли она сейчас? 
* Какие структуры данных образуют состояние мастера?
* Какие из этих структур хранятся персистентно, на диске?
* Какие структуры данных хранятся только в оперативной памяти? Как их восстановить в случае рестарта мастера?
* Как мастеру удалить файл, если в данный момент не доступны все реплики всех блоков?
* Может ли мастер обрабатывать создания файлов в пределах одной директории конкурентно? Как?
* Что ограничивает масштабируемость GFS – данные или метаданные? Почему?
* От чего зависит размер метаданных GFS, из-за чего мастер может "переполниться"?
* Какое ограничение соблюдается при размещении реплик чанка?
* Что мастер должен сделать на уровне метаданных при создании снапшота?
* Зачем при создании снапшота файла мастер отзывает все лизы у _primary_-реплик чанков этого файла?
* Зачем мастеру лог? Может ли мастер хранить его в GFS?
* Что такое _осиротевший_ чанк? 
* Что происходит, когда умирает чанк-сервер? Как мастер узнает о том, что какой-то чанк нужно дореплицировать?
* Как можно снизить оверхед от репликации, не снижая при этом отказоустойчивость чанка? Как этому препятствует API системы? 
* Как BigTable использует GFS?
* Как в HDFS называются мастер и чанк-сервер соответственно?
